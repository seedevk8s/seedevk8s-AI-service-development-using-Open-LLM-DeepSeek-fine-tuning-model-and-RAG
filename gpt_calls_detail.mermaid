sequenceDiagram
    participant Data as ğŸ“Š ë°ì´í„°
    participant GPT1 as ğŸ¤– GPT-4o-mini<br/>(ì§ˆë¬¸ ìƒì„±)
    participant Filter as ğŸ” í•„í„°ë§
    participant GPT2 as ğŸ¤– GPT-4o-mini<br/>(ë‹µë³€ ìƒì„±)
    participant Result as ğŸ¯ ìµœì¢…ê²°ê³¼

    Note over Data, GPT1: ì²« ë²ˆì§¸ GPT í˜¸ì¶œ - ë³µí•© ì§ˆë¬¸ ìƒì„±
    Data->>GPT1: ğŸ“¤ 5ê°œ ë¬¸ì„œ ì œê³µ<br/>doc1: ì›ë³¸ context<br/>doc2~5: negative samples
    
    Note over GPT1: System Prompt:<br/>"2ê°œ ì´ìƒ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ëŠ”<br/>ë³µí•© ì§ˆë¬¸ì„ ë§Œë“œì„¸ìš”"
    
    GPT1->>GPT1: ğŸ§  ë¬¸ì„œë“¤ ë¶„ì„<br/>ì—°ê´€ì„± ì°¾ê¸°
    GPT1->>Data: ğŸ“¥ ë³µí•© ì§ˆë¬¸ + ê·¼ê±° ë°˜í™˜<br/>Question: ...<br/>Reason: ...<br/>Answer: True/False
    
    Data->>Filter: ğŸ“‹ í’ˆì§ˆ ê²€ì‚¬ ìš”ì²­
    Filter->>Filter: âŒ Answer: False í–‰ ì œê±°<br/>âœ… Answer: Trueë§Œ ìœ ì§€
    
    Note over Filter, GPT2: ë‘ ë²ˆì§¸ GPT í˜¸ì¶œ - ë‹µë³€ ìƒì„±
    Filter->>GPT2: ğŸ“¤ ë³µí•© ì§ˆë¬¸ + 5ê°œ ë¬¸ì„œ
    
    Note over GPT2: System Prompt:<br/>"ë¬¸ì„œ ë‚´ ì •ë³´ë§Œ ì‚¬ìš©í•˜ì—¬<br/>ì¸ìš© ì¶œì²˜ë¥¼ ëª…ì‹œí•´ì„œ ë‹µë³€í•˜ì„¸ìš”"
    
    GPT2->>GPT2: ğŸ” ë¬¸ì„œë“¤ ê²€ìƒ‰<br/>ì •ë³´ ì¢…í•©
    GPT2->>Result: ğŸ“¥ ì¸ìš© ë‹µë³€ ë°˜í™˜<br/>ë‹µë³€ + [[doc1]], [[doc2]]
    
    Note over Result: ìµœì¢… ê²°ê³¼ë¬¼:<br/>ë³µí•© ì§ˆë¬¸ + ì¶œì²˜ ëª…ì‹œ ë‹µë³€<br/>Multi-document QA ë°ì´í„°ì…‹
    
    rect rgb(255, 248, 225)
        Note over Data, GPT1: ğŸ¯ ëª©ì : ì—¬ëŸ¬ ë¬¸ì„œ ì°¸ì¡° í•„ìš”í•œ ì§ˆë¬¸ ìƒì„±
    end
    
    rect rgb(232, 245, 232)
        Note over Filter, GPT2: ğŸ¯ ëª©ì : ì •í™•í•œ ë‹µë³€ + ì¶œì²˜ ì¸ìš©
    end